"use strict";var p=Object.defineProperty;var A=Object.getOwnPropertyDescriptor;var f=Object.getOwnPropertyNames;var m=Object.prototype.hasOwnProperty;var y=(t,e)=>{for(var s in e)p(t,s,{get:e[s],enumerable:!0})},C=(t,e,s,a)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of f(e))!m.call(t,n)&&n!==s&&p(t,n,{get:()=>e[n],enumerable:!(a=A(e,n))||a.enumerable});return t};var S=t=>C(p({},"__esModule",{value:!0}),t);var h={};y(h,{handler:()=>N});module.exports=S(h);var l=require("@aws-sdk/client-s3"),v=new l.S3Client({region:process.env.AWS_REGION}),O=["spportal","adminportal"],N=async t=>{console.info(`EVENT
`+JSON.stringify(t,null,2));let e={type:"exception",message:"Service Error"},s=0,a=async(r,i)=>{let u={Bucket:r==="spportal"?process.env.SPPORTAL_BUCKETNAME:process.env.ADMINPORTAL_BUCKETNAME,Key:"branding.json"},g=await(await i.send(new l.GetObjectCommand(u))).Body.transformToString();return JSON.parse(g)},n=[];O.map(r=>n.push(a(r)));let[d,c]=await Promise.allSettled(n);if(d.status==="rejected"&&c==="rejected")return response(404,JSON.stringify({data:"Not Found"}));let o=[];return d.value&&o.push({id:"spportal",...d.value}),c.value&&o.push({id:"adminportal",...c.value}),o.sort((r,i)=>r.id<i.id?-1:r.id>i.id?1:0),{statusCode:200,headers:{"Access-Control-Allow-Headers":"Content-Type,Authorization,X-Api-Key,Content-Range,X-Requested-With","Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"OPTIONS,GET,POST","Access-Control-Expose-Headers":"Content-Range","Content-Range":`brandings ${s+1}-${s+1+o.length}`},body:JSON.stringify({data:o,total:o.length})}};0&&(module.exports={handler});
//# sourceMappingURL=index.js.map
